{"ast":null,"code":"// 从actionTypes里面引入addToCart\nimport { addToCart } from \"../Action/ActionTypes\";\n// 引入 data\nimport shareShop from \"../../data/data\";\nlet data = shareShop();\nlet product = {\n  products: data,\n  cartItems: []\n};\n// 定义reducer函数，reducer函数里面有两个参数 1. state  2. action\nlet rootReducer = (state = product, action) => {\n  switch (action.type) {\n    case \"addToCart\":\n      // 解构商品的属性\n      let {\n        name,\n        brand,\n        price\n      } = state.products.find(product => product.id == action.payload);\n      // 判断购物车里是否有该商品，如果有，则让其数量+1，如果没有添加进去，用来当作判断的 true or false\n      let existingItem = state.cartItems.find(item => ListItem.id == id);\n      if (existingItem) {\n        return {\n          // 如果存在该商品，则让该商品的数量 +1\n          ...state,\n          cartItems: state.cartItems.map(item => item.id == id ? {\n            ...item,\n            quantity: item.quantity + 1\n          } : item)\n        };\n      } else {\n        //   如果没有该商品时\n        return {\n          ...state,\n          cartItems: [...state.cartItems, {\n            name,\n            brand,\n            price,\n            quantity: 1\n          }]\n        };\n      }\n    default:\n      return state;\n  }\n};\n// 暴露出rootReducer\nexport default rootReducer;","map":{"version":3,"names":["addToCart","shareShop","data","product","products","cartItems","rootReducer","state","action","type","name","brand","price","find","id","payload","existingItem","item","ListItem","map","quantity"],"sources":["/Users/fs/Documents/Eyewear website/my-project/src/Components/Reducer/ReducerOne.js"],"sourcesContent":["// 从actionTypes里面引入addToCart\nimport { addToCart } from \"../Action/ActionTypes\";\n// 引入 data\nimport shareShop from \"../../data/data\";\nlet data = shareShop();\nlet product = {\n  products: data,\n  cartItems: [],\n};\n// 定义reducer函数，reducer函数里面有两个参数 1. state  2. action\nlet rootReducer = (state = product, action) => {\n  switch (action.type) {\n    case \"addToCart\":\n      // 解构商品的属性\n      let { name, brand, price } = state.products.find(\n        (product) => product.id == action.payload\n      );\n      // 判断购物车里是否有该商品，如果有，则让其数量+1，如果没有添加进去，用来当作判断的 true or false\n      let existingItem = state.cartItems.find((item) => ListItem.id == id);\n      if (existingItem) {\n        return {\n          // 如果存在该商品，则让该商品的数量 +1\n          ...state,\n          cartItems: state.cartItems.map((item) =>\n            item.id == id ? { ...item, quantity: item.quantity + 1 } : item\n          ),\n        };\n      } else {\n        //   如果没有该商品时\n        return {\n          ...state,\n          cartItems: [...state.cartItems, { name, brand, price, quantity: 1 }],\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n// 暴露出rootReducer\nexport default rootReducer;\n"],"mappings":"AAAA;AACA,SAASA,SAAS,QAAQ,uBAAuB;AACjD;AACA,OAAOC,SAAS,MAAM,iBAAiB;AACvC,IAAIC,IAAI,GAAGD,SAAS,CAAC,CAAC;AACtB,IAAIE,OAAO,GAAG;EACZC,QAAQ,EAAEF,IAAI;EACdG,SAAS,EAAE;AACb,CAAC;AACD;AACA,IAAIC,WAAW,GAAGA,CAACC,KAAK,GAAGJ,OAAO,EAAEK,MAAM,KAAK;EAC7C,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,WAAW;MACd;MACA,IAAI;QAAEC,IAAI;QAAEC,KAAK;QAAEC;MAAM,CAAC,GAAGL,KAAK,CAACH,QAAQ,CAACS,IAAI,CAC7CV,OAAO,IAAKA,OAAO,CAACW,EAAE,IAAIN,MAAM,CAACO,OACpC,CAAC;MACD;MACA,IAAIC,YAAY,GAAGT,KAAK,CAACF,SAAS,CAACQ,IAAI,CAAEI,IAAI,IAAKC,QAAQ,CAACJ,EAAE,IAAIA,EAAE,CAAC;MACpE,IAAIE,YAAY,EAAE;QAChB,OAAO;UACL;UACA,GAAGT,KAAK;UACRF,SAAS,EAAEE,KAAK,CAACF,SAAS,CAACc,GAAG,CAAEF,IAAI,IAClCA,IAAI,CAACH,EAAE,IAAIA,EAAE,GAAG;YAAE,GAAGG,IAAI;YAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;UAAE,CAAC,GAAGH,IAC7D;QACF,CAAC;MACH,CAAC,MAAM;QACL;QACA,OAAO;UACL,GAAGV,KAAK;UACRF,SAAS,EAAE,CAAC,GAAGE,KAAK,CAACF,SAAS,EAAE;YAAEK,IAAI;YAAEC,KAAK;YAAEC,KAAK;YAAEQ,QAAQ,EAAE;UAAE,CAAC;QACrE,CAAC;MACH;IAEF;MACE,OAAOb,KAAK;EAChB;AACF,CAAC;AACD;AACA,eAAeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}